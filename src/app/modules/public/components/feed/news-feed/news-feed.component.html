<div
  *ngIf="
    news?.length || (news?.length == 0 && currentQuery);
    else emptyListTemplate
  "
>
  <ng-container *ngTemplateOutlet="newsListTemplate"></ng-container>
</div>

<ng-template #newsListTemplate>
  <div
    class="scroll-feed"
    infiniteScroll
    [infiniteScrollDistance]="2"
    [infiniteScrollThrottle]="50"
    infiniteScrollContainer=".scroll-feed"
    [fromRoot]="true"
    (scrolled)="onNewsScroll()"
  >
    <div *ngFor="let item of news$ | async">
      <mat-card
        *ngIf="item.seen"
        class="feed-card"
        (click)="onClickNewsCard(item)"
      >
        <div>
          <p>
            <b>{{ item.title }}</b>
          </p>
          <p>{{ clip(item?.message) }}</p>
          <p>
            <small
              ><i
                >Posted by {{ item?.author?.name }}
                at
                {{ parseDate(item.createdAt) }}</i
              ></small
            >
          </p>
        </div>
        <mat-card-actions> </mat-card-actions>
      </mat-card>
    </div>
  </div>
</ng-template>

<ng-template #loading>
  <app-simple-loading-spinner></app-simple-loading-spinner
></ng-template>

<ng-template #emptyListTemplate>
  <div id="hero-block">
    <h2>Welcome to</h2>
    <img id="hero-logo" src="assets/images/logo.svg" />
  </div>
</ng-template>

<ng-template #searchQueryDescription>
  <p style="text-align: center">
    <small *ngIf="currentQuery"
      >Showing learners with "{{ currentQuery }}"</small
    >
  </p>
</ng-template>
