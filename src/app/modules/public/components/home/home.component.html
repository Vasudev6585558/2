<div
  class="scroll-feed"
  infiniteScroll
  [infiniteScrollDistance]="2"
  [infiniteScrollThrottle]="50"
  infiniteScrollContainer=".scroll-feed"
  [fromRoot]="true"
  (scrolled)="onScroll()"
>
  <div *ngIf="learners?.length; else emptyLearnersListTemplate">
    <ng-container *ngTemplateOutlet="learnersListTemplate"></ng-container>
  </div>
</div>

<ng-template #learnersListTemplate>
  <div class="cards">
    <div *ngFor="let learner of learners">
      <mat-card class="card" (click)="onClickCard(learner)">
        <mat-card-header>
          <img
            mat-card-avatar
            [src]="learner.avatar"
            [alt]="learner.firstName"
          />
          <mat-card-title>{{ learner.name }}</mat-card-title>
          <mat-card-subtitle>{{ generateSubtitle(learner) }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          {{ learner.bio }}
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <ng-container *ngTemplateOutlet="loading"></ng-container>
</ng-template>

<ng-template #loading>
  <app-simple-loading-spinner *ngIf="isFetching"></app-simple-loading-spinner
></ng-template>

<ng-template #emptyLearnersListTemplate>
  <div id="hero-block">
    <h2>Welcome to</h2>
    <img id="hero-logo" src="assets/images/logo.svg" />
  </div>
</ng-template>

<div class="footer">
  <small
    >Copyright &copy; {{ currentYear }} Shuddhi Vidhaya Initiative, Shuddhi
    Trust, All Rights Reserved</small
  >
  <small
    ><a class="right-link" [routerLink]="privacyRoute">Privacy Policy</a></small
  >
</div>
